import{j as e}from"./jsx-runtime.Bq1fMrfD.js";import{r as t}from"./index.D6wfdm0j.js";const r=[{id:"opensource",name:"开源平台",icon:"/icons/category/opensource.svg"},{id:"Studying",name:"个人其他站点",icon:"/icons/category/studying.svg"},{id:"pages",name:"静态部署平台",icon:"/icons/category/pages.svg"}],s=[{id:"github",title:"GitHub",description:"全球最大的开源代码托管平台，支持 Git 版本控制，适用于协作开发、项目管理和自动化工作流，是开发者共享与协作的核心工具。",shortDesc:"全球最大代码托管平台。",url:"https://github.com/",category:"opensource",icon:"/icons/github.webp"},{id:"zywede",title:"zywe.de",description:"个人主页与知识集散地。作为技术爱好者，展示自己的全部项目、实践与分享的中心",shortDesc:"zywe个人官网",url:"https://zywe.de/",category:"Studying",icon:"/icons/zywede.png"},{id:"dh_zywede",title:"nav.zywe.de",description:"专属导航页,这里汇聚了日常学习、开发与管理服务器所需的所有高效工具与资源链接，快速触达各项在线服务的便捷入口，确保学习与实践的流畅性。",shortDesc:"让每个人都有自己的网站式收藏夹",url:"https://dh.zywe.de/",category:"Studying",icon:"/icons/dh-zywede.png"},{id:"github-pages",title:"GitHub Pages",description:"GitHub 提供的静态网站托管服务，支持自定义域名与 HTTPS，可直接从仓库部署，适合个人主页、项目文档与开源展示，集成 Git 工作流，极简且可靠。",shortDesc:"Git 驱动的静态网站托管。",url:"https://pages.github.com/",category:"pages",icon:"/icons/github-pages.webp"},{id:"cloudflare-pages",title:"Cloudflare Pages",description:"由全球领先的 CDN 提供商 Cloudflare 推出的前端部署平台，支持 Jamstack 架构，内置构建优化、边缘函数与自动缓存更新，适合高性能 Web 应用与博客。",shortDesc:"CDN 优化的前端部署平台。",url:"https://pages.cloudflare.com/",category:"pages",icon:"/icons/cloudflare-pages.webp"},{id:"vercel",title:"Vercel",description:"专为前端开发打造的现代部署平台，由 Next.js 背后团队开发，支持 Serverless 架构、实时预览与多分支部署，适合敏捷开发、商业级应用与个性化项目。",shortDesc:"Next.js 团队出品的部署平台。",url:"https://vercel.com/",category:"pages",icon:"/icons/vercel.webp"}];function a(){const[a,n]=t.useState(!1),[o,i]=t.useState([]),c=t.useRef(null),l=t.useRef(null),d=()=>{n(!0),setTimeout((()=>{c.current?.focus()}),10)},g=()=>{setTimeout((()=>{n(!1),l.current&&l.current.classList.add("hidden"),c.current&&(c.current.value=""),i([])}),10)};return t.useEffect((()=>{const e=document.getElementById("search-toggle"),t=document.getElementById("search-hint"),r=e=>{e.preventDefault(),e.stopPropagation(),d()},s=e=>{e.preventDefault(),e.stopPropagation(),d()};e?.addEventListener("click",r,{passive:!1}),e?.addEventListener("touchend",r,{passive:!1}),t?.addEventListener("click",s,{passive:!1});const a=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),d()),"Escape"===e.key&&g()};return document.addEventListener("keydown",a),()=>{e?.removeEventListener("click",r),e?.removeEventListener("touchend",r),t?.removeEventListener("click",s),document.removeEventListener("keydown",a)}}),[]),a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/4 w-full max-w-5xl px-4 z-50",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",ref:c,placeholder:"搜索网站...",className:"w-full px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600 border-none",onChange:e=>{const t=e.target.value.trim().toLowerCase();if(!t)return i([]),void l.current?.classList.add("hidden");const a=s.filter((e=>{const s=r.find((t=>t.id===e.category)),a=s?s.name.toLowerCase():"";return e.title.toLowerCase().includes(t)||e.url.toLowerCase().includes(t)||e.shortDesc&&e.shortDesc.toLowerCase().includes(t)||a.includes(t)})).map((e=>{const t=r.find((t=>t.id===e.category));return{...e,categoryName:t?t.name:"",categoryIcon:t?t.icon:null}}));i(a),a.length>0?l.current?.classList.remove("hidden"):l.current?.classList.add("hidden")}}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute right-3 top-3.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsx("div",{ref:l,className:"mt-2 max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hidden",children:o.length>0?o.map((t=>e.jsxs("div",{className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors cursor-pointer flex items-start",onClick:()=>{t.url&&(window.location.href=t.url),g()},children:[e.jsx("div",{className:"w-10 h-10 mr-3 flex-shrink-0 flex items-center justify-center bg-gray-100 dark:bg-gray-700 rounded-md overflow-hidden",children:e.jsx("img",{src:t.icon||t.categoryIcon||"/images/default.svg",alt:t.title,className:"w-6 h-6 object-contain",loading:"lazy",width:"24",height:"24",onError:e=>{e.target.onerror=null,e.target.src="/icons/default.svg"}})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-1",children:t.shortDesc||t.description}),t.categoryName&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["分类: ",t.categoryName]})]})]},t.id))):e.jsx("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"似乎我们没有收录这个网站,欢迎提交!"})})]})})}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-40",onClick:e=>{e.preventDefault(),e.stopPropagation(),g()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),g()}})]}):null}export{a as default};
