import{j as e}from"./jsx-runtime.Bq1fMrfD.js";import{r as t}from"./index.D6wfdm0j.js";const n="zywe-theme-preference",s="system",o="dark";function m(){return t.useEffect((()=>{const e=()=>{try{const e=localStorage.getItem(n);if(!e)return null;const{mode:t,timestamp:s}=JSON.parse(e);return Date.now()-s>6048e5?(localStorage.removeItem(n),null):{mode:t}}catch(e){return null}},t=e=>{try{const t=JSON.stringify({mode:e,timestamp:Date.now()});localStorage.setItem(n,t)}catch(t){}};(()=>{const t=e();let n=s;var m;t&&(n=t.mode),(m=n)===s?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"):m===o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")})(),window.toggleTheme=function(){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),t("light")):(document.documentElement.classList.add("dark"),t(o))};const m=window.matchMedia("(prefers-color-scheme: dark)"),d=t=>{const n=e();n&&n.mode!==s||(t.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return m.addEventListener?m.addEventListener("change",d):m.addListener&&m.addListener(d),()=>{m.removeEventListener?m.removeEventListener("change",d):m.removeListener&&m.removeListener(d)}}),[]),e.jsx("div",{className:"hidden"})}export{m as default};
